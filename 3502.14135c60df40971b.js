"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[3502],{3872:(Y,U,i)=>{i.d(U,{n:()=>B});var E=i(80529),C=i(75625),S=i(70262),N=i(62843),O=i(92340),I=i(94650);let B=(()=>{class t{constructor(n){this.httpClient=n,this.url=O.N.API_BASE_URL,this.httpHeader={headers:new E.WM({"Content-Type":"application/json"})}}getItemLocation(n,a,s,l,c,m,r,h,d,p){return this.httpClient.get(this.url+`/itemLocation/read?user=${n}&building=${a}&floor=${s}&aisle=${l}&slot=${c}&storer=${m}&item=${r}&lot1=${h}&lot2=${d}&lot3=${p}`)}getResequence(n,a,s,l){return this.httpClient.get(this.url+`/itemLocation/getResequence?user=${n}&storer=${a}&suffix=${s}&item=${l}`)}Resequenceupdate(n,a,s,l,c,m,r,h,d,p,g){return this.httpClient.put(this.url+"/itemLocation/ResequenceUpdate",{storer:n,suffix:a,item:s,lot1:l,lot2:c,lot3:m,building:r,floor:h,aisle:d,slot:p,sortSeq:g}).pipe((0,C.X)(1),(0,S.K)(this.httpError))}getItemLocationBySearch(n,a,s,l,c,m,r,h,d,p){return this.httpClient.get(this.url+`/itemLocation/read?user=${n}&building=${a}&floor=${s}&aisle=${l}&slot=${c}&item=${m}&storer=${r}&lot1=${h}&lot2=${d}&lot3=${p}`)}createItemLocation(n,a,s,l,c,m,r,h,d,p,g,R,b){return this.httpClient.post(this.url+"/itemLocation/create",{buildingnumber:n,floor:a,aisle:s,slot:l,storer:c,suffix:m,item:r,lot1:h,lot2:d,lot3:p,lotUnitWeight:g,lotFirstReceived:R,sortSeq:b}).pipe((0,C.X)(1),(0,S.K)(this.httpError))}itemLotCreate(n,a,s,l,c,m,r,h,d,p,g){return this.httpClient.post(this.url+"/itemLocation/itemLotCreate",{user:n,storer:a,suffix:s,item:l,lot1:c,lot2:m,lot3:r,lotUnitWeight:h,lotFirstReceived:d,shipment:p,status:g}).pipe((0,C.X)(1),(0,S.K)(this.httpError))}deleteItemLocation(n,a,s,l,c,m,r,h,d,p){return this.httpClient.delete(this.url+`/itemLocation/delete?storeNumber=${n}&suffix=${a}&itemCode=${s}&lotCode1=${l}&lotCode2=${c}&lotCode3=${m}&buildingNumber=${r}&floor=${h}&aisle=${d}&slot=${p}`)}ItemLocOneSideAdj(n,a,s,l,c,m,r,h,d,p,g,R,b,Z,q,A,_){return this.httpClient.post(this.url+"/itemLocation/itemLocOneSideAdgForm1",{storer:n,suffix:a,itemCode:s,lot1:l,lot2:c,lot3:m,bldgNum:r,floor:h,aisle:d,slot:p,inventoryAdjBucket:g,adjQuantity:R,reasonCode:b,referToBill:Z,number:q,line:A,comment:_}).pipe((0,C.X)(1),(0,S.K)(this.httpError))}ItemLocTwoSideAdj(n,a,s,l,c,m,r,h,d,p,g,R,b,Z,q,A,_,$,D,x,M,o,f,e,u,L,v,y){return this.httpClient.post(this.url+"/itemLocation/itemLocTwoSideAdgForm1",{storer:n,suffix:a,itemCode:s,lot1:l,lot2:c,lot3:m,bldgNum:r,floor:h,aisle:d,slot:p,inventoryAdjBucket:g,adjQuantity:R,reasonCode:b,referToBill:Z,number:q,line:A,comment:_,reasonCodeDef:$,toItem:D,toBucket:x,toLot1:M,toLot2:o,toLot3:f,bldg:e,toFloor:u,toAisle:L,toSlot:v,toSortSeq:y}).pipe((0,C.X)(1),(0,S.K)(this.httpError))}twoSidedAdjBucktoBuckService(n,a,s,l,c,m,r,h,d,p,g,R,b,Z,q,A,_,$,D){return this.httpClient.post(this.url+"/itemLocation/itemLoc2SideBuckToBuck",{storer:n,suffix:a,itemCode:s,lot1:l,lot2:c,lot3:m,bldgNum:r,floor:h,aisle:d,slot:p,adjQuantity:g,fromBucket:R,toBucket:b,referToBill:Z,whseNumber:q,seqLine:A,reasonCode:_,reasonCodeDef:$,comments:D}).pipe((0,C.X)(1),(0,S.K)(this.httpError))}setPickLine(n,a,s,l,c,m,r,h,d,p){return this.httpClient.post(this.url+"/itemLocation/setPickLine",{storer:n,suffix:a,item:s,lot1:l,lot2:c,lot3:m,building:r,floor:h,aisle:d,slot:p}).pipe((0,C.X)(1),(0,S.K)(this.httpError))}lotActivityReadService(n,a,s,l){return this.httpClient.get(this.url+`/itemLocation/itemLotActivity?user=${n}&storer=${a}&item=${s}&lot1=${l}`)}httpError(n){let a="";return a=n.error instanceof ErrorEvent?n.error.message:`Error Code: ${n.status}\nMessage: ${n.message}`,console.log(a),(0,N._)(()=>new Error(a))}}return t.\u0275fac=function(n){return new(n||t)(I.LFG(E.eN))},t.\u0275prov=I.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},43502:(Y,U,i)=>{i.r(U),i.d(U,{ReSequenceComponent:()=>M});var E=i(98739),C=i(7155),S=i(65412),N=i(35226),O=i.n(N),I=i(48529),B=i(70879),t=i(94650),T=i(24006),n=i(3872),a=i(19132),s=i(97392),l=i(4859),c=i(59549),m=i(44144),r=i(73546);let h=(()=>{class o{constructor(e,u,L,v,y){this.fb=e,this.iItemLcnSvc=u,this.router=L,this.anyvariable=v,this.dialogRef=y,this.user=localStorage.getItem("userName")}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({Lot:{value:this.anyvariable[0][0].LCLTC1+" "+this.anyvariable[0][0].LCLTC2+" "+this.anyvariable[0][0].LCLTC3,disabled:!0},Location:{value:this.anyvariable[0][0].LCBLDG+" "+this.anyvariable[0][0].LCFLOR+" "+this.anyvariable[0][0].LCAISL+" "+this.anyvariable[0][0].LCSLOT,disabled:!0},sortSeq:this.anyvariable[0][0].LCSRSQ})}updateResequence(){var e=this.form.value;console.log(e),this.result=this.iItemLcnSvc.Resequenceupdate(this.anyvariable[0][0].LCSTOR,this.anyvariable[0][0].LCSTRX,this.anyvariable[0][0].LCITEM,this.anyvariable[0][0].LCLTC1,this.anyvariable[0][0].LCLTC2,this.anyvariable[0][0].LCLTC3,I.R.fullBuilding(this.anyvariable[0][0].LCBLDG),this.anyvariable[0][0].LCFLOR,I.R.fullSlotAisl(this.anyvariable[0][0].LCAISL),I.R.fullSlotAisl(this.anyvariable[0][0].LCSLOT),e.sortSeq).subscribe(u=>{this.result=u;var L=this.result[0].data.length;console.log(this.result[0].data);const v=this.result[0].data[L-1].value;console.log(v),"Sequence Updated Successfully"===v?(this.successMessage(v),this.closeDialog(),this.router.navigateByUrl("/main-nav/item/resequence",{state:[this.anyvariable[0][0],this.anyvariable[0][1]]})):this.failureMessage(this.result[0].data[L-1].value)})}successMessage(e){O().fire(e,"","success")}failureMessage(e){O().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.qu),t.Y36(n.n),t.Y36(a.F0),t.Y36(S.WI),t.Y36(S.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-re-sequence-edit"]],standalone:!0,features:[t.jDz],decls:27,vars:1,consts:[[1,"over-Flow"],[1,"main-header-title"],["fxLayoutAlign","center"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","sortSeq"],["matInput","","formControlName","Location"],["matInput","","formControlName","Lot"],["mat-raised-button","",1,"buttons","addButton",3,"click"]],template:function(e,u){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title",2),t._uU(4,"Resequence Item Locations"),t.qZA()(),t.TgZ(5,"button",3),t.NdJ("click",function(){return u.closeDialog()}),t.TgZ(6,"mat-icon",4),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",5)(9,"form",6)(10,"div",7)(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),t._uU(14,"Sequence number"),t.qZA(),t._UZ(15,"input",10),t.qZA(),t.TgZ(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"Location"),t.qZA(),t._UZ(19,"input",11),t.qZA(),t.TgZ(20,"mat-form-field",9)(21,"mat-label"),t._uU(22,"Lot"),t.qZA(),t._UZ(23,"input",12),t.qZA(),t._UZ(24,"br"),t.TgZ(25,"button",13),t.NdJ("click",function(){return u.updateResequence()}),t._uU(26," Update "),t.qZA()()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",u.form))},dependencies:[B.m,T._Y,T.Fj,T.JJ,T.JL,T.sg,T.u,s.Hw,l.lW,c.KE,c.hX,m.Nt,r.a8,r.dk,r.dn,r.n5]}),o})();var d=i(15627);function p(o,f){1&o&&(t.TgZ(0,"th",13),t._uU(1,"Sequence Number"),t.qZA())}function g(o,f){if(1&o&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&o){const e=f.$implicit;t.xp6(1),t.Oqu(e.LCSRSQ)}}function R(o,f){1&o&&(t.TgZ(0,"th",13),t._uU(1,"Location"),t.qZA())}function b(o,f){if(1&o&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&o){const e=f.$implicit;t.xp6(1),t.HOy("",e.LCBLDG," ",e.LCFLOR," ",e.LCAISL," ",e.LCSLOT,"")}}function Z(o,f){1&o&&(t.TgZ(0,"th",13),t._uU(1,"Lot"),t.qZA())}function q(o,f){if(1&o&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&o){const e=f.$implicit;t.xp6(1),t.lnq(" ",e.LCLTC1," ",e.LCLTC2," ",e.LCLTC3,"")}}function A(o,f){1&o&&(t.TgZ(0,"th",15),t._uU(1," actions"),t.qZA())}function _(o,f){if(1&o){const e=t.EpF();t.TgZ(0,"td",14)(1,"div",16)(2,"button",17)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",18)(6,"li")(7,"button",19),t.NdJ("click",function(){const v=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.updateResequence(v))}),t.TgZ(8,"mat-icon",20),t._uU(9,"edit"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Edit"),t.qZA()()()()()()}}function $(o,f){1&o&&t._UZ(0,"tr",21)}function D(o,f){1&o&&t._UZ(0,"tr",22)}const x=function(){return[8,16,24]};let M=(()=>{class o{constructor(e,u,L,v,y,w){this.activeRouter=e,this.iHeaderSvc=u,this.router=L,this.matDialog=v,this.fb=y,this.iItemLcnSvc=w,this.displayedColumns=["SequenceNumber","Location","Lot","Actions"],this.dataSource=[],this.duplicateSource=[],this.user=localStorage.getItem("userName")}ngOnInit(){this.element=history.state,console.log(this.element),this.form=this.fb.group({storer:this.element[0].LCSTOR,suffix:this.element[0].LCSTRX,item:this.element[0].LCITEM}),this.fetchItemLocations(),this.dataSource=new C.by(this.duplicateSource),this.dataSource.paginator=this.paginator}fetchItemLocations(){this.iItemLcnSvc.getResequence(this.user,this.element[0].LCSTOR,this.element[0].LCSTRX,this.element[0].LCITEM).subscribe(e=>{this.result=e;var u=this.result[0].data[1]?.value,L=JSON.parse(u);this.duplicateSource=L.returnedData,console.log("ITEM resequence DATA"),console.log(this.duplicateSource),this.dataSource=new C.by(this.duplicateSource),this.dataSource.paginator=this.paginator})}updateResequence(e){var u=e,L=history.state;console.log(L),this.matDialog.open(h,{width:"5000px",maxHeight:"90vh",data:[[u,L[1]]],autoFocus:!1})}onBack(){this.router.navigateByUrl("/main-nav/item/location",{state:this.element[1]})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.gz),t.Y36(d.X),t.Y36(a.F0),t.Y36(S.uw),t.Y36(T.qu),t.Y36(n.n))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-re-sequence"]],viewQuery:function(e,u){if(1&e&&t.Gf(E.NW,5),2&e){let L;t.iGM(L=t.CRH())&&(u.paginator=L.first)}},standalone:!0,features:[t.jDz],decls:24,vars:5,consts:[["mat-button","",1,"backButton","go-back-btn",3,"click"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","SequenceNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Location"],["matColumnDef","Lot"],["matColumnDef","Actions"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-header-cell",""],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-header-row",""],["mat-row",""]],template:function(e,u){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title")(3,"button",0),t.NdJ("click",function(){return u.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Resequence Item Locations "),t.qZA()(),t.TgZ(7,"table",1),t.ynx(8,2),t.YNc(9,p,2,0,"th",3),t.YNc(10,g,2,1,"td",4),t.BQk(),t.ynx(11,5),t.YNc(12,R,2,0,"th",3),t.YNc(13,b,2,4,"td",4),t.BQk(),t.ynx(14,6),t.YNc(15,Z,2,0,"th",3),t.YNc(16,q,2,3,"td",4),t.BQk(),t.ynx(17,7),t.YNc(18,A,2,0,"th",8),t.YNc(19,_,12,0,"td",4),t.BQk(),t.YNc(20,$,1,0,"tr",9),t.YNc(21,D,1,0,"tr",10),t.qZA(),t._UZ(22,"mat-paginator",11,12),t.qZA()),2&e&&(t.xp6(7),t.Q6J("dataSource",u.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",u.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",u.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,x)))},dependencies:[B.m,E.NW,s.Hw,l.lW,c.hX,r.a8,r.dk,r.n5,C.BZ,C.fO,C.as,C.w1,C.Dz,C.nj,C.ge,C.ev,C.XQ,C.Gk]}),o})()}}]);