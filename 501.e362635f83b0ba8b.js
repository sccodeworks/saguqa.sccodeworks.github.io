"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[501],{60501:(X,p,o)=>{o.r(p),o.d(p,{TallyInquiryComponent:()=>G});var T=o(65412),r=o(7155),f=o(70879),t=o(94650),c=o(19132),d=o(15627),u=o(24006),Z=o(36895),y=o(98739),I=o(97392),h=o(4859),s=o(59549),g=o(44144),m=o(73546);const C=["paginator"];function A(e,n){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Quantity"),t.qZA())}function q(e,n){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.ICQTY," ")}}function U(e,n){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Item"),t.qZA())}function D(e,n){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.IITEM," ")}}function v(e,n){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Description"),t.qZA())}function O(e,n){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.IDESC," ")}}function E(e,n){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Lot Codes"),t.qZA())}function N(e,n){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const a=t.oxw().$implicit;t.xp6(1),t.AsE("",a.ILOT1,"",a.ILOT2?" | ":"","")}}function b(e,n){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const a=t.oxw().$implicit;t.xp6(1),t.AsE("",a.ILOT2,"",a.ILOT3?" | ":"","")}}function x(e,n){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const a=t.oxw().$implicit;t.xp6(1),t.Oqu(a.ILOT3)}}function S(e,n){if(1&e&&(t.TgZ(0,"td",27),t.YNc(1,N,2,2,"ng-container",28),t.YNc(2,b,2,2,"ng-container",28),t.YNc(3,x,2,1,"ng-container",28),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Q6J("ngIf",a.ILOT1),t.xp6(1),t.Q6J("ngIf",a.ILOT2),t.xp6(1),t.Q6J("ngIf",a.ILOT3)}}function R(e,n){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Weight"),t.qZA())}function B(e,n){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.IGRSW," ")}}function M(e,n){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Rate"),t.qZA())}function Y(e,n){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.IRATE," ")}}function L(e,n){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Base"),t.qZA())}function P(e,n){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.IBASE," ")}}function H(e,n){1&e&&(t.TgZ(0,"th",26),t._uU(1,"Amount"),t.qZA())}function Q(e,n){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.IAMT," ")}}function W(e,n){1&e&&(t.TgZ(0,"th",26),t._uU(1,"HSM"),t.qZA())}function K(e,n){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.IHSM," ")}}function $(e,n){1&e&&(t.TgZ(0,"th",26),t._uU(1,"O/S/D"),t.qZA())}function j(e,n){if(1&e&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.IOSD," ")}}function k(e,n){1&e&&t._UZ(0,"tr",29)}function w(e,n){1&e&&t._UZ(0,"tr",30)}const J=function(){return[4,7,10]};let G=(()=>{class e{constructor(a,i,l,_,z,F){this.router=a,this.iHeaderSvc=i,this.fb=l,this.route=_,this.anyvariable=z,this.dialogRef=F,this.displayedColumns=["Qty","Item","Description","LotCodes","Weight","Rate","Base","Amount","HSM","OSD"],this.columnShowHideList=[],this.user=localStorage.getItem("userName"),this.dataSource=new r.by}ngOnInit(){this.tally=this.anyvariable.IHTALY,this.form=this.fb.group({tally:""}),this.readTallyInquiryServiceSubscription=this.iHeaderSvc.readTallyInquiryService(this.user,this.anyvariable.IHTALY).subscribe(a=>{var l=JSON.parse(a.data[1]?.value).returnedData;this.accountOf=l[0].IHSTOR,this.billTo=l[0].IHCUST,this.carrier=l[0].CRNAME,this.proNumber=l[0].IHPRO,this.referenceNo=l[0].IHSTRF,this.carTrailer=l[0].IHCAR,this.invoiceNo=l[0].IHINVO,this.invoiceDate=l[0].IHINDT,this.receivedDate=l[0].IHACTA,this.scheduledDate=l[0].IHSCHA,this.buildingNo=l[0].IHBLDG,this.loadType=l[0].ILDTYP,this.receiptType=l[0].IRCTYP,this.seal1Or2Broken=`${l[0].IHBRK1} ${l[0].IHBRK2}`,this.totalHandling=l[0].ITOTHD,this.storage=l[0].ITOTST,this.special=l[0].ITOTSP,this.wrTotal=l[0].IGRTOT;var _=this.parseResponseForTable(l);this.dataSource.data=_})}ngOnDestroy(){this.readTallyInquiryServiceSubscription&&this.readTallyInquiryServiceSubscription.unsubscribe()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}parseResponseForTable(a){var i=["90","50","60"],l=[];for(var _ of a)i.includes(_.ILINE)||(0==_.ICQTY&&(_.ICQTY=null),"30"==_.ILINE?/\S/.test(_.ICMNT)&&l.push({IDESC:_.ICMNT}):l.push(_));return l}onBack(){this.router.navigate(["tallys"])}closeDialog(){this.dialogRef.close()}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(c.F0),t.Y36(d.X),t.Y36(u.qu),t.Y36(c.gz),t.Y36(T.WI),t.Y36(T.so))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tally-inquiry"]],viewQuery:function(a,i){if(1&a&&t.Gf(C,5),2&a){let l;t.iGM(l=t.CRH())&&(i.paginator=l.first)}},standalone:!0,features:[t.jDz],decls:130,vars:25,consts:[[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline"],["readonly","","matInput","",3,"value"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Qty"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Item"],["matColumnDef","Description"],["matColumnDef","LotCodes"],["matColumnDef","Weight"],["matColumnDef","Rate"],["matColumnDef","Base"],["matColumnDef","Amount"],["matColumnDef","HSM"],["matColumnDef","OSD"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(a,i){1&a&&(t.TgZ(0,"mat-card")(1,"div",0)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Tally Inquiry"),t.qZA()(),t.TgZ(5,"button",1),t.NdJ("click",function(){return i.closeDialog()}),t.TgZ(6,"mat-icon",2),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Tally Number"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18,"Account Of"),t.qZA(),t._UZ(19,"input",8),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Bill To"),t.qZA(),t._UZ(23,"input",8),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-label"),t._uU(26,"Carrier"),t.qZA(),t._UZ(27,"input",8),t.qZA(),t.TgZ(28,"mat-form-field",7)(29,"mat-label"),t._uU(30,"PRO Number"),t.qZA(),t._UZ(31,"input",8),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34,"Reference Number"),t.qZA(),t._UZ(35,"input",8),t.qZA(),t.TgZ(36,"mat-form-field",7)(37,"mat-label"),t._uU(38,"Car/Trailer"),t.qZA(),t._UZ(39,"input",8),t.qZA(),t.TgZ(40,"mat-form-field",7)(41,"mat-label"),t._uU(42,"Invoice Number"),t.qZA(),t._UZ(43,"input",8),t.qZA(),t.TgZ(44,"mat-form-field",7)(45,"mat-label"),t._uU(46,"Invoice Date"),t.qZA(),t._UZ(47,"input",8),t.qZA(),t.TgZ(48,"mat-form-field",7)(49,"mat-label"),t._uU(50,"Received Date"),t.qZA(),t._UZ(51,"input",8),t.qZA(),t.TgZ(52,"mat-form-field",7)(53,"mat-label"),t._uU(54,"Scheduled Date"),t.qZA(),t._UZ(55,"input",8),t.qZA(),t.TgZ(56,"mat-form-field",7)(57,"mat-label"),t._uU(58,"Building Number"),t.qZA(),t._UZ(59,"input",8),t.qZA(),t.TgZ(60,"mat-form-field",7)(61,"mat-label"),t._uU(62,"Load Type"),t.qZA(),t._UZ(63,"input",8),t.qZA(),t.TgZ(64,"mat-form-field",7)(65,"mat-label"),t._uU(66,"Receipt Type"),t.qZA(),t._UZ(67,"input",8),t.qZA(),t.TgZ(68,"mat-form-field",7)(69,"mat-label"),t._uU(70,"Seal 1/2 Broken"),t.qZA(),t._UZ(71,"input",8),t.qZA()()()()(),t.TgZ(72,"table",9),t.ynx(73,10),t.YNc(74,A,2,0,"th",11),t.YNc(75,q,2,1,"td",12),t.BQk(),t.ynx(76,13),t.YNc(77,U,2,0,"th",11),t.YNc(78,D,2,1,"td",12),t.BQk(),t.ynx(79,14),t.YNc(80,v,2,0,"th",11),t.YNc(81,O,2,1,"td",12),t.BQk(),t.ynx(82,15),t.YNc(83,E,2,0,"th",11),t.YNc(84,S,4,3,"td",12),t.BQk(),t.ynx(85,16),t.YNc(86,R,2,0,"th",11),t.YNc(87,B,2,1,"td",12),t.BQk(),t.ynx(88,17),t.YNc(89,M,2,0,"th",11),t.YNc(90,Y,2,1,"td",12),t.BQk(),t.ynx(91,18),t.YNc(92,L,2,0,"th",11),t.YNc(93,P,2,1,"td",12),t.BQk(),t.ynx(94,19),t.YNc(95,H,2,0,"th",11),t.YNc(96,Q,2,1,"td",12),t.BQk(),t.ynx(97,20),t.YNc(98,W,2,0,"th",11),t.YNc(99,K,2,1,"td",12),t.BQk(),t.ynx(100,21),t.YNc(101,$,2,0,"th",11),t.YNc(102,j,2,1,"td",12),t.BQk(),t.YNc(103,k,1,0,"tr",22),t.YNc(104,w,1,0,"tr",23),t.qZA(),t._UZ(105,"mat-paginator",24,25),t.TgZ(107,"mat-card-content",3)(108,"div",5)(109,"p")(110,"label")(111,"b"),t._uU(112,"Total Handling :"),t.qZA(),t.TgZ(113,"span"),t._uU(114),t.qZA()(),t.TgZ(115,"label")(116,"b"),t._uU(117,"Storage :"),t.qZA(),t.TgZ(118,"span"),t._uU(119),t.qZA()(),t.TgZ(120,"label")(121,"b"),t._uU(122,"Special :"),t.qZA(),t.TgZ(123,"span"),t._uU(124),t.qZA()(),t.TgZ(125,"label")(126,"b"),t._uU(127,"W/R Total :"),t.qZA(),t.TgZ(128,"span"),t._uU(129),t.qZA()()()()()()),2&a&&(t.xp6(9),t.Q6J("formGroup",i.form),t.xp6(6),t.s9C("value",i.tally),t.xp6(4),t.s9C("value",i.accountOf),t.xp6(4),t.s9C("value",i.billTo),t.xp6(4),t.s9C("value",i.carrier),t.xp6(4),t.s9C("value",i.proNumber),t.xp6(4),t.s9C("value",i.referenceNo),t.xp6(4),t.s9C("value",i.carTrailer),t.xp6(4),t.s9C("value",i.invoiceNo),t.xp6(4),t.s9C("value",i.invoiceDate),t.xp6(4),t.s9C("value",i.receivedDate),t.xp6(4),t.s9C("value",i.scheduledDate),t.xp6(4),t.s9C("value",i.buildingNo),t.xp6(4),t.s9C("value",i.loadType),t.xp6(4),t.s9C("value",i.receiptType),t.xp6(4),t.s9C("value",i.seal1Or2Broken),t.xp6(1),t.Q6J("dataSource",i.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(24,J)),t.xp6(9),t.hij("",i.totalHandling," "),t.xp6(5),t.Oqu(i.storage),t.xp6(5),t.hij(" ",i.special,""),t.xp6(5),t.hij(" ",i.wrTotal,""))},dependencies:[f.m,Z.O5,u._Y,u.JL,u.sg,y.NW,I.Hw,h.lW,s.KE,s.hX,g.Nt,m.a8,m.dk,m.dn,m.n5,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk]}),e})()}}]);